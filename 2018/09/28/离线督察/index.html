<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        移动离线督察功能 - undefined
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/" />
        </div>
        <div class="name">
            <i>xiaoshuiz</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么做离线督察？"><span class="toc-text">为什么做离线督察？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#怎么做离线督察？"><span class="toc-text">怎么做离线督察？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-设备验证与用户管理"><span class="toc-text">1.设备验证与用户管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-数据管理"><span class="toc-text">2.数据管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-配置文件的存放与更新"><span class="toc-text">3.配置文件的存放与更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-图版上传"><span class="toc-text">4.图版上传</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应用流程"><span class="toc-text">应用流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结语"><span class="toc-text">结语</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        移动离线督察功能
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2018-09-28 10:16:24</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#mobile" title="mobile">mobile</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <header><br><td bgcolor="#0099ff"><br><img src="https://i.imgur.com/7FykwPD.jpg" align="center"><br><br><br></td><br><br></header>

<p><br></p>
<ul>
<li><font size="8" face="黑体" color="#51aa51"><strong>目录</strong></font>



</li>
</ul>
<ol>
<li><font size="5" face="黑体" color="#000000"><strong>为什么做离线督察？</strong></font><br></li>
</ol>
<ol start="2">
<li><font size="5" face="黑体" color="#000000"><strong>怎么做离线督察？</strong></font><br></li>
</ol>
<ol start="3">
<li><font size="5" face="黑体" color="#000000"><strong>应用流程</strong></font><br></li>
</ol>
<p><hr><br><br></p>
<h2 id="为什么做离线督察？"><a href="#为什么做离线督察？" class="headerlink" title="为什么做离线督察？"></a><font size="6" face="黑体" color="#ffb022"><strong>为什么</strong></font><font size="6" face="黑体" color="#005432"><strong>做离线督察？</strong></font></h2><blockquote>
<p>离线督察优点：</p>
</blockquote>
<ol>
<li>不接后台，摆脱网络问题<br><br>a.是否将内网映射到外网   b.是否需要挂VPN<br><br></li>
</ol>
<ol start="2">
<li>响应速度问题<br><br>报脱了等待后台相应的问题，释放等待时间，一键响应。<br><br></li>
</ol>
<ol start="3">
<li>安全问题<br><br>摆脱信息传输安全问题，不用担心信息被抓走。<br><br></li>
</ol>
<blockquote>
<p>离线督察优点：</p>
</blockquote>
<ol>
<li>数据传输<br><br>数据传输只能靠物理拷贝。增加了数据传输的不方便性。<br><br></li>
</ol>
<ol start="2">
<li>数据管理<br><br>需要后台操作与存储的问题现在则需要前端来处理，还需要数据管理的部分。<br><br></li>
</ol>
<p><hr><br><br></p>
<h2 id="怎么做离线督察？"><a href="#怎么做离线督察？" class="headerlink" title="怎么做离线督察？"></a><font size="6" face="黑体" color="#ffb022"><strong>怎么</strong></font><font size="6" face="黑体" color="#005432"><strong>做离线督察？</strong></font></h2><h3 id="1-设备验证与用户管理"><a href="#1-设备验证与用户管理" class="headerlink" title="1.设备验证与用户管理"></a>1.<font size="5" face="黑体" color="#ff4444"><strong>设备验证与用户管理</strong></font><br></h3><blockquote>
<p>在线的设备注册可以请求后台</p>
</blockquote>
<blockquote>
<p>公钥可以请求获取</p>
</blockquote>
<blockquote>
<p>登录可以通过公钥加密后请求来实现</p>
</blockquote>
<p> <br><br>那离线呢？    这就引发了我们对于这个制作的思路,从下面就是整个设计思路。</p>
<p><br></p>
<p><img src="https://i.imgur.com/GrXqZsw.png" align="center"></p>
<p><br></p>
<p>一个证书对应一个设备，一个用户，唯有对应的一台设备以及对应的一个用户才能进行通过。</p>
<p>用户本地可以更改密码，但是密码找回只能重新联系管理员。具体流程如下：</p>
<p><br></p>
<p><img src="https://i.imgur.com/UBA3iWH.jpg" align="center"></p>
<p><br></p>
<h3 id="2-数据管理"><a href="#2-数据管理" class="headerlink" title="2.数据管理"></a>2.<font size="5" face="黑体"><strong>数据管理</strong></font><br></h3><p><br><br>因为离线版本无后台管理数据，设备本地的资源管理器则成为了应用数据展示的UI界面。<br><br><br><br><br>那么这个界面的信息的可阅读性，也就制约着信息的选择与使用。<br><br><br><br><br>这些文件数据：</p>
<blockquote>
<p>在应用内进行读取。</p>
</blockquote>
<blockquote>
<p>在应用外直观展示。</p>
</blockquote>
<p>如何提高这个界面的信息阅读性，对于文件资源管理器，无非就是数据分级结构与文件命名。<br><br><br><br><br>文件夹的标识则成了重要的一部分，既要展示出自己不同的地方，又要减少程序加载的资源损耗。<br><br><br><br><br>所以本地的资源目录格式便设计成了以下结构：<br><br><br><br></p>
<p><img src="https://i.imgur.com/fK2GUrD.jpg" align="center"></p>
<p><br></p>
<h3 id="3-配置文件的存放与更新"><a href="#3-配置文件的存放与更新" class="headerlink" title="3.配置文件的存放与更新"></a>3.<font size="5" face="黑体"><strong>配置文件的存放与更新</strong></font><br></h3><blockquote>
<p>  获取</p>
</blockquote>
<p><br><br>相比在线的可以实时获取图斑信息，离线只能读取本地的配置文件，且配置文件中只有图斑的名字，图斑的督察情况详情需要我们通过遍历文件来获取。<br><br>由于数据复杂，在应用运行期间<font color="ff5555">只会遍历获取一次</font>。避免更新数据时卡顿。</p>
<p><br></p>
<blockquote>
<p>  刷新</p>
</blockquote>
<p><br><br>由于图斑的督察会<font color="ff5555">实时变更本地文件与文件夹信息</font>，所以之前遍历的所有数据随时都在变更。但我们并不会再重新去遍历数据。<br><br>则需要程序<font color="ff5555">模拟出存储逻辑过程</font>，准确更改本地信息，不会再去遍历本地数据。且避免无效路径。</p>
<p><br></p>
<h3 id="4-图版上传"><a href="#4-图版上传" class="headerlink" title="4.图版上传"></a>4.<font size="5" face="黑体"><strong>图版上传</strong></font></h3><p><br></p>
<p>图版上传？一听这个名字就知道是在线功能，那么离线怎么实现呢？<br><br><br>图斑锁定！除了和图版上传同样验证是否完成了多媒体和督察信息。</p>
<blockquote>
<p>将上传图版变更为锁定图版</p>
</blockquote>
<blockquote>
<p>将批量上传变更为批量锁定</p>
</blockquote>
<p>选择锁定图版之后无法在对多媒体文档<br>以及督察信息进行编辑，只能进行查看。</p>
<p>待用户完全督察完成后，进行批量拷贝。</p>
<h2 id="应用流程"><a href="#应用流程" class="headerlink" title="应用流程"></a><font size="6" face="黑体" color="#005432"><strong>应用流程</strong></font></h2><p><br><br><img src="https://i.imgur.com/DIfAzrU.jpg" align="center"></p>
<p><hr><br><br></p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a><font size="6" face="黑体" color="#005432"><strong>结语</strong></font></h2><p>&emsp;&emsp;从数据管理方面，Android作为前端设备，摒弃了后台独立开发的话，难免在数据管理与数据处理上感到吃力，放弃了信息传输的话，应用只能是个工具，不再是个平台。</p>
<p><br><br>&emsp;&emsp;从数据更新方面，实时的更新数据只能单方面的去模拟数据处理流程，对于应用外的干预，无法实时发现与做出相应。</p>
<p><br><br>&emsp;&emsp;从开发经验方面，通过这样的应用开发，让我了解并熟悉了移动督察的实质，操作逻辑与应用流程。对接下来的开发有着莫大的帮助。</p>
<p><br></p>
<p><image src="http://www.dist.com.cn/templates/cn/images/logo.png" align="right"><br><br>&emsp;</image></p>
<p><br></p>
<hr>



        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = ""
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
